!function i(o,r,s){function c(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}e=r[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return c(e||t)},e,e.exports,i,o,r,s)}return r[n].exports}for(var a="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,n){"use strict";n.__esModule=!0,n.EGameResult=void 0;var i,o=t("../pubsub/pubsub");(t=i=n.EGameResult||(n.EGameResult={})).Victory="victory",t.Reset="reset",t.Continue="continue";r.prototype.getResult=function(t,n){var e=new Set(t.map(function(t){t=t.coordinate.get();return t.x+","+t.y}));return e.size<t.length||new Set(n.map(function(t){t=t.coordinate.get();return t.x+","+t.y})).size<t.length?i.Reset:t.every(function(t,e){return t.fit(n[e])})?i.Victory:i.Continue},r.prototype.addListener=function(t,e){this.pubsub.subscribe(t,e)},r.prototype.removeListener=function(t,e){this.pubsub.unscribe(t,e)},t=r;function r(t){this.isCustomize=!1,this.renderer=null,t?this.renderer=t:this.isCustomize=!0,this.pubsub=new o.default}n.default=t},{"../pubsub/pubsub":5}],2:[function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});n.__esModule=!0;var r,s=t("./game"),h=t("../units/mover"),c=t("../units/controller"),a=t("../units/panel"),d=t("../units/obstacle"),l=t("../units/direction"),u=t("../units/pedometer"),f=t("../units/timer"),o=(r=s.default,o(p,r),p.prototype.render=function(){!this.isCustomize&&this.renderer&&this.renderer.render({controller:this.controller,isSuccess:this.isSuccess,cells:this.panel.cells,count:this.pedometer.get(),time:this.timer.displayByS(),movers:this.movers.map(function(t){return{coordinate:t.coordinate.get(),alias:t.alias,locked:t.locked}}),lockedMovers:this.lockedMovers.map(function(t){return{coordinate:t.coordinate.get(),alias:t.alias,locked:t.locked}})})},p.prototype.start=function(){var t=this;this.timer.start();var e=this;this.controller.on(l.EDirection.Up,function(){return e.onMove(0,-1,t.onMoveEnd.bind(t))}),this.controller.on(l.EDirection.Down,function(){return e.onMove(0,1,t.onMoveEnd.bind(t))}),this.controller.on(l.EDirection.Left,function(){return e.onMove(-1,0,t.onMoveEnd.bind(t))}),this.controller.on(l.EDirection.Right,function(){return e.onMove(1,0,t.onMoveEnd.bind(t))}),window.onresize=function(){return t.render()}},p.prototype.stop=function(){this.timer.close()},p.prototype.onTimeChange=function(){this.render()},p.prototype.onMove=function(t,e,n){for(var i=!1,o=0;o<this.movers.length;o++){var r=this.movers[o].coordinate.get(),s={x:r.x+t,y:r.y+e},r=null===(r=this.panel.get(s.x,s.y))||void 0===r?void 0:r.obstacle;r&&this.movers[o].move(s,r)&&(i=!0)}i&&this.pedometer.record(),this.render(),n&&n()},p.prototype.onMoveEnd=function(){switch(this.getResult(this.movers,this.lockedMovers)){case s.EGameResult.Victory:this.onGameOver();break;case s.EGameResult.Reset:this.onGameReset();break;case s.EGameResult.Continue:}},p.prototype.onGameReset=function(){var n=this;console.log("移动物体重置"),this.movers.forEach(function(t,e){n.movers[e].reset()})},p.prototype.onGameOver=function(){console.log("Congratulations!!! Your score is "+this.pedometer.get()),this.isSuccess=!0,this.render(),this.stop()},p.prototype.initPairedMovers=function(t){for(var e,n,i,o=this.panel.cells.filter(function(t){return t.obstacle.type===d.EObstacleType.Null}),r=o.length,s=[-1,-1],c=s[0],a=s[1],s=[null===(s=o[c])||void 0===s?void 0:s.coordinate.get(),null===(s=o[a])||void 0===s?void 0:s.coordinate.get()],l=s[0],u=s[1];c===a||!this.panel.reachable(l,u);)a=(e=[Math.random()*r|0,Math.random()*r|0])[1],l=(e=[null===(e=o[c=e[0]])||void 0===e?void 0:e.coordinate.get(),null===(e=o[a])||void 0===e?void 0:e.coordinate.get()])[0],u=e[1];return o[c]&&(n=new h.default(o[c].coordinate.copy(),t)),o[a]&&(i=new h.default(o[a].coordinate.copy(),t)).lock(),[n,i]},p.prototype.generateMovers=function(){for(var t,e=new Set,n=0;n<p.NUM_OF_MOVER;n++){for(var i=[void 0,void 0],o=i[0],r=i[1],i=[void 0,void 0],s=i[0],c=i[1];!s||!c||e.has(s)||e.has(c);)o=(t=this.initPairedMovers(p.ALIAS_OF_MOVER[n]))[0],r=t[1],s=(t=[o.coordinate.get(),r.coordinate.get()])[0],c=t[1];this.movers[n]=o,this.lockedMovers[n]=r,e.add(s),e.add(c)}},p.NUM_OF_MOVER=3,p.ALIAS_OF_MOVER=["red","blue","yellow"],p);function p(t){t=r.call(this,t)||this;return t.movers=[],t.lockedMovers=[],t.isSuccess=!1,t.panel=new a.default,t.controller=new c.default,t.pedometer=new u.default,t.timer=new f.default(t.onTimeChange.bind(t)),t.generateMovers(),t.render(),t.start(),t}n.default=o},{"../units/controller":7,"../units/direction":9,"../units/mover":10,"../units/obstacle":11,"../units/panel":12,"../units/pedometer":13,"../units/timer":14,"./game":1}],3:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.getHandlerKey=function(t){return"_"+o.listenerName+"_"+t+"_"},o.prototype.getEventPosition=function(t){var e=this.ele.getBoundingClientRect();return{x:t.clientX-e.left*(this.ele.width/e.width),y:t.clientY-e.top*(this.ele.height/e.height)}},o.prototype.on=function(t,n){var i=this;return o.handlers[this.getHandlerKey(++o.handlerId)]=function(t){var e=i.getEventPosition(t);e.x>=i.x0&&e.x<=i.x1&&e.y>=i.y0&&e.y<=i.y1&&"function"==typeof n&&n(t)},this.ele.addEventListener(t,o.handlers[this.getHandlerKey(o.handlerId)]),this.getHandlerKey(o.handlerId)},o.prototype.remove=function(t,e){o.handlers[e]&&(console.log("clear"),this.ele.removeEventListener(t,o.handlers[e]))},o.listenerName="CanvasListener",o.handlers=[],o.handlerId=-1,o);function o(t,e,n,i,o){this.ele=t,this.x0=e,this.y0=n,this.x1=i,this.y1=o}n.default=i},{}],4:[function(t,e,n){"use strict";function i(){this.handlers=[],this.handlerId=-1}n.__esModule=!0;var o=(i.getInstance=function(){return this.instance||(this.instance=new i),this.instance},i.prototype.getHandlerKey=function(t){return"_"+i.listenerName+"_"+t+"_"},i.prototype.on=function(e,n){return this.handlers[this.getHandlerKey(++this.handlerId)]=function(t){t.keyCode===e&&"function"==typeof n&&n(t)},document.addEventListener("keydown",this.handlers[this.getHandlerKey(this.handlerId)]),this.getHandlerKey(this.handlerId)},i.prototype.remove=function(t){this.handlers[t]&&document.removeEventListener("keydown",this.handlers[t])},i.listenerName="KeyboardListener",i).getInstance();n.default=o},{}],5:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.subscribe=function(t,e){Object.prototype.hasOwnProperty.call(this.subscribers,t)||(this.subscribers[t]=[]),this.subscribers[t].push(e)},o.prototype.unscribe=function(t,e){var n=this.subscribers[t];n&&n.length&&(this.subscribers[t]=n.filter(function(t){return t!==e}))},o.prototype.publish=function(t,e){t=this.subscribers[t];t&&t.length&&t.forEach(function(t){return t(e)})},o);function o(){this.subscribers={}}n.default=i},{}],6:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t,e){this.obstacle=t,this.coordinate=e}},{}],7:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("../pubsub/pubsub"),t=(o.prototype.on=function(t,e){this.pubsub.subscribe(t,e)},o.prototype.trigger=function(t){this.pubsub.publish(t,{})},o);function o(){this.pubsub=new i.default}n.default=t},{"../pubsub/pubsub":5}],8:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.set=function(t,e){this.x=t,this.y=e},o.prototype.get=function(){return{x:this.x,y:this.y}},o.prototype.copy=function(){return new o(this.x,this.y)},o.random=function(t,e,n,i){if(n<t||i<e)throw new Error("x1 must be greater tnen x0 and y0 must be greater then y1 too!");return{x:Math.random()*(n-t-1)+t|0,y:Math.random()*(i-e-1)+e|0}},o);function o(t,e){this.x=t,this.y=e}n.default=i},{}],9:[function(t,e,n){"use strict";var i;n.__esModule=!0,n.mapDirection2KeyCode=n.EDirection=void 0,(i=n.EDirection||(n.EDirection={})).Up="up",i.Down="down",i.Left="left",i.Right="right",n.mapDirection2KeyCode={up:38,down:40,left:37,right:39}},{}],10:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("./obstacle"),t=(o.prototype.isSameAlias=function(t){return this.alias&&t.alias&&this.alias===t.alias},o.prototype.isSameCoordinate=function(t){var e=this.coordinate.get(),n=e.x,i=e.y,e=t.coordinate.get(),t=e.x,e=e.y;return n===t&&i===e},o.prototype.reset=function(){this.coordinate.set(this.initialCoordinate.x,this.initialCoordinate.y)},o.prototype.fit=function(t){return this.isSameCoordinate(t)&&this.isSameAlias(t)},o.prototype.move=function(t,e){return!(this.locked||!e)&&(e.type!==i.EObstacleType.Stake&&(e.type!==i.EObstacleType.Freeze&&(this.coordinate.set(t.x,t.y),!0)))},o.prototype.lock=function(t){var e=this;this.locked=!0,void 0!==t&&setTimeout(function(){e.unlock()},t)},o.prototype.unlock=function(){this.locked=!1},o);function o(t,e){this.locked=!1,this.coordinate=t,this.initialCoordinate=t.get(),this.alias=e}n.default=t},{"./obstacle":11}],11:[function(t,e,n){"use strict";var i;n.__esModule=!0,n.EObstacleType=void 0,(o=i=n.EObstacleType||(n.EObstacleType={}))[o.Null=0]="Null",o[o.Stake=1]="Stake",o[o.Freeze=2]="Freeze";var o=(r.randomType=function(t){t=1<(t=void 0===t?.3:t)?1:t<0?0:t;var e=Math.random();return e<t/2||e<t?i.Stake:i.Null},r);function r(t){this.type=t}n.default=o},{}],12:[function(t,e,n){"use strict";n.__esModule=!0;var l=t("./obstacle"),u=t("./coordinate"),h=t("./cell"),d=t("../utils/union_find"),t=(f.prototype.reachable=function(t,e){return this.uf.isConnected(t.x*this.size+t.y,e.x*this.size+e.y)},f.prototype.get=function(n,i){return this.cells.find(function(t){var e=t.coordinate.get(),t=e.x,e=e.y;return t===n&&e===i})},f.INIT_SIZE=30,f);function f(t){this.size=f.INIT_SIZE,this.cells=[],t&&(this.size=t),this.uf=new d.default(this.size*this.size);for(var e=0;e<this.size;e++)for(var n=0;n<this.size;n++){this.cells.push(new h.default(new l.default(l.default.randomType()),new u.default(e,n)));var i=[(e-1)*this.size+n,e*this.size+n,e*this.size+n-1],o=i[0],r=i[1],s=i[2],c=[null===(c=this.cells[o])||void 0===c?void 0:c.obstacle.type,null===(a=this.cells[r])||void 0===a?void 0:a.obstacle.type,null===(i=this.cells[s])||void 0===i?void 0:i.obstacle.type],a=c[1],i=c[2];0<e&&a===l.EObstacleType.Null&&c[0]===a&&this.uf.unite(o,r),0<n&&a===l.EObstacleType.Null&&i===a&&this.uf.unite(s,r)}}n.default=t},{"../utils/union_find":15,"./cell":6,"./coordinate":8,"./obstacle":11}],13:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.record=function(){this.count++},o.prototype.get=function(){return this.count},o);function o(){this.count=0}n.default=i},{}],14:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.start=function(){this.create()},o.prototype.pause=function(){this.pending=!0},o.prototype.continue=function(){this.pending=!1,this.start()},o.prototype.close=function(){this.pending=!1,this.clear(),this.time=0},o.prototype.reset=function(){this.clear(),this.time=0,this.pending=!1,this.start()},o.prototype.create=function(){var t=this;this.timer=setTimeout(function(){t.clear(),t.pending||(t.time++,t.onChange(),t.create())},o.DELTA_TIME)},o.prototype.clear=function(){this.timer&&clearTimeout(this.timer)},o.prototype.display=function(){var t=this.time;return{h:t/3600|0,s:t%60,m:t%3600/60|0}},o.prototype.dispalyByMS=function(){return 1e3*this.time},o.prototype.displayByS=function(){return this.time},o.DELTA_TIME=1e3,o);function o(t){this.pending=!1,this.time=0,this.onChange=function(){return 0},t&&(this.onChange=t)}n.default=i},{}],15:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.find=function(t){return this.parent[t]===t?t:this.parent[t]=this.find(this.parent[t])},o.prototype.unite=function(t,e){var n=[this.find(t),this.find(e)],t=n[0],e=n[1];return t!==e&&(this.weights[t]<this.weights[e]&&(t=(n=[e,t])[0],e=n[1]),this.parent[e]=t,this.weights[t]+=this.weights[e],!0)},o.prototype.isConnected=function(t,e){return this.find(t)===this.find(e)},o);function o(t){this.parent=new Array(t).fill(0).map(function(t,e){return e}),this.weights=new Array(t).fill(1)}n.default=i},{}],16:[function(t,e,n){"use strict";n.__esModule=!0;n=t("./core/game/game_single_player"),t=t("./render/renderer");new n.default(new t.default("canvas-container"))},{"./core/game/game_single_player":2,"./render/renderer":23}],17:[function(t,e,n){"use strict";n.__esModule=!0;var v=t("../core/listener/canvas_listener"),g=t("../core/listener/keyboard_listener"),m=t("../core/units/direction"),t=(i.prototype.render=function(t,e){var n,i,o,r,s,c,a,l,u,h,d,f,p,y,x=this;this.context&&(f=(d=e.controller).x,p=d.y,n=d.w,i=d.h,o=t.controller,r=(y=[{x:f+n/3,y:p},{x:f+2*n/3,y:p},{x:f+2*n/3,y:p+i/3},{x:f+n,y:p+i/3},{x:f+n,y:p+2*i/3},{x:f+2*n/3,y:p+2*i/3},{x:f+2*n/3,y:p+i},{x:f+n/3,y:p+i},{x:f+n/3,y:p+2*i/3},{x:f,y:p+2*i/3},{x:f,y:p+i/3},{x:f+n/3,y:p+i/3}])[0],s=y[1],c=y[2],a=y[3],l=y[4],u=y[5],h=y[6],e=y[7],d=y[8],f=y[9],p=y[10],y=y[11],this.context.strokeStyle="#898",this.context.beginPath(),this.context.moveTo(r.x,r.y),this.context.lineTo(s.x,s.y),this.context.lineTo(c.x,c.y),this.context.lineTo(a.x,a.y),this.context.lineTo(l.x,l.y),this.context.lineTo(u.x,u.y),this.context.lineTo(h.x,h.y),this.context.lineTo(e.x,e.y),this.context.lineTo(d.x,d.y),this.context.lineTo(f.x,f.y),this.context.lineTo(p.x,p.y),this.context.lineTo(y.x,y.y),this.context.lineTo(r.x,r.y),this.context.closePath(),this.context.stroke(),this.context.fillStyle="#898",this.context.fillRect(r.x,r.y,n/3,i/3),this.context.fillRect(c.x,c.y,n/3,i/3),this.context.fillRect(d.x,d.y,n/3,i/3),this.context.fillRect(p.x,p.y,n/3,i/3),this.context.font="20px Georgia",this.context.fillStyle="#fff",this.context.fillText("上",y.x+15,y.y-20),this.context.fillText("右",u.x+15,u.y-20),this.context.fillText("下",e.x+15,e.y-20),this.context.fillText("左",f.x+15,f.y-20),0!==Object.keys(this.canvasListeners).length||t.isSuccess||(this.canvasListeners[m.EDirection.Up]=new v.default(this.context.canvas,r.x,r.y,c.x,c.y),this.canvasListeners[m.EDirection.Right]=new v.default(this.context.canvas,c.x,c.y,l.x,l.y),this.canvasListeners[m.EDirection.Down]=new v.default(this.context.canvas,d.x,d.y,h.x,h.y),this.canvasListeners[m.EDirection.Left]=new v.default(this.context.canvas,p.x,p.y,d.x,d.y),Object.keys(this.canvasListeners).forEach(function(t){function e(){o.trigger(t)}x.handlerKeys[t]=(x.handlerKeys[t]||[]).concat(x.canvasListeners[t].on("click",e)).concat(g.default.on(m.mapDirection2KeyCode[t],e))})),t.isSuccess&&this.clear())},i.prototype.clear=function(){var n=this;Object.keys(this.handlerKeys).forEach(function(e){n.handlerKeys[e].forEach(function(t){n.canvasListeners[e].remove("click",t),g.default.remove(t)}),n.handlerKeys[e]=[]})},i);function i(t){this.context=t,this.canvasListeners={},this.handlerKeys={}}n.default=t},{"../core/listener/canvas_listener":3,"../core/listener/keyboard_listener":4,"../core/units/direction":9}],18:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.render=function(t,e){var n,i,o;this.context&&(i=(n=e.count).x,o=n.y,e=n.w,n.h,this.context.font="20px Georgia",this.context.fillStyle="#000",this.context.fillText("步数："+t.count,i+20,o-20,e))},o);function o(t){this.context=t}n.default=i},{}],19:[function(t,e,n){"use strict";n.__esModule=!0;var i=(c.getColor=function(t){return c.colorMap[t]||(c.colorMap[t]=c.colorPalette[c.colorId++]),c.colorMap[t]},c.prototype.render=function(t,e){var n,i,o,r,s;this.context&&(n=(s=e.panel).x,i=s.y,o=e.cellSize,r=e.coordinate,s=e.alias,e=e.locked,this.context.fillStyle=c.getColor(s),this.context.strokeStyle=c.getColor(s),this.context.beginPath(),this.context.arc(n+r.x*o+o/2,i+r.y*o+o/2,o/3,0,2*Math.PI),e?this.context.stroke():this.context.fill())},c.colorPalette=["#d60380","#2a5ac7","#f3e100"],c.colorId=0,c.colorMap={},c);function c(t){this.context=t}n.default=i},{}],20:[function(t,e,n){"use strict";n.__esModule=!0;var h=t("../core/units/obstacle"),t=(i.prototype.render=function(t,e){if(this.context){var n=t.cells,t=e.panel,i=t.x,o=t.y,e=t.w,t=t.h;this.context.fillStyle="#eee",this.context.fillRect(i,o,e,t);for(var r=e/Math.sqrt(n.length),s=0;s<n.length;s++){var c=n[s],a=c.obstacle,l=c.coordinate.get(),c=l.x,l=l.y,u="#fff";switch(a.type){case h.EObstacleType.Null:u="#fff";break;case h.EObstacleType.Stake:u="#242e3510";break;case h.EObstacleType.Freeze:u="#cceff1";break;default:u="#fff"}this.context.fillStyle=u,this.context.fillRect(i+c*r+1,o+l*r+1,r-1,r-1)}return r}},i);function i(t){this.context=t}n.default=t},{"../core/units/obstacle":11}],21:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.render=function(t,e){var n,i,o;this.context&&(n=t.count,i=(o=e.board).x,t=o.y,e=o.w,o=o.h,this.context.fillStyle="#00000080",this.context.fillRect(i,t,e,o),this.context.fillStyle="#000",this.context.font="24px Georgia",this.context.fillStyle="#000",this.context.textAlign="center",this.context.fillText("Congratulations!!!",e/2,o/2-20,e),this.context.fillText("Your score is",e/2,o/2+20,e),this.context.font="64px Georgia",this.context.fillStyle="#f00",this.context.fillText(""+n,e/2,o/2+80,e))},o);function o(t){this.context=t}n.default=i},{}],22:[function(t,e,n){"use strict";n.__esModule=!0;var i=(o.prototype.render=function(t,e){var n,i,o;this.context&&(i=(n=e.time).x,o=n.y,e=n.w,n.h,this.context.font="20px Georgia",this.context.fillStyle="#000",this.context.fillText("耗时："+t.time,i+20,o-20,e))},o);function o(t){this.context=t}n.default=i},{}],23:[function(t,e,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};n.__esModule=!0;var a=t("./render_panel"),l=t("./render_mover"),i=t("./render_controller"),u=t("./render_time"),h=t("./render_count"),d=t("./render_success"),t=(o.prototype.calcLayout=function(){if(this.canvas&&this.container&&this.context)return this.canvas.width=this.container.clientWidth,this.canvas.height=this.container.clientHeight,this.context.canvas.width>this.context.canvas.height?this.horizontalLayout():this.verticalLayout()},o.prototype.horizontalLayout=function(){var t=this.canvas.height,e=[t/2*3|0,t],n=e[0],i=e[1],e=(this.canvas.width-n)/2|0;return{board:{x:e,y:0,w:n,h:i},panel:{x:e,y:0,w:t,h:t},time:{x:e+n,y:0,w:e,h:i/2},count:{x:e+n,y:0,w:e,h:i/2},controller:{x:e+i,y:i/2,w:i/2,h:i/2}}},o.prototype.verticalLayout=function(){var t=this.canvas.width,e=[t,t/2*3|0],n=e[0],t=e[1],e=(this.canvas.height-t)/2|0;return{board:{x:0,y:e,w:n,h:t},panel:{x:0,y:e,w:n,h:n},time:{x:0,y:2*e+n,w:n/2,h:e},count:{x:0,y:3*e+n,w:n/2,h:e},controller:{x:n/2,y:e+n,w:n/2,h:n/2}}},o.prototype.render=function(t){if(this.canvas&&this.container&&this.context){var e=this.calcLayout();if(e){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#ddd",this.context.fillRect(0,0,this.canvas.width,this.canvas.height);var n=e.board;this.context.fillStyle="#eee",this.context.fillRect(n.x,n.y,n.w,n.h);var i=new a.default(this.context).render(t,e);new u.default(this.context).render(t,e),new h.default(this.context).render(t,e),null!==(n=this.controller)&&void 0!==n&&n.render(t,e);for(var o=t.movers,r=t.lockedMovers,s=0;s<o.length;s++)new l.default(this.context).render(t,c(c(c({},e),{cellSize:i}),o[s]));for(s=0;s<r.length;s++)new l.default(this.context).render(t,c(c(c({},e),{cellSize:i}),r[s]));t.isSuccess&&new d.default(this.context).render(t,e)}}},o);function o(t){if(this.controller=null,this.containerId=t,this.container=document.getElementById(t),!this.container)throw new Error("Cannot find element by id "+this.containerId+".");this.canvas=document.createElement("canvas"),this.canvas.width=this.container.clientWidth,this.canvas.height=this.container.clientHeight,this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.controller=new i.default(this.context)}n.default=t},{"./render_controller":17,"./render_count":18,"./render_mover":19,"./render_panel":20,"./render_success":21,"./render_time":22}]},{},[16]);